<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How Close Are We?</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
  /* Chirpy theme-inspired styling */
  :root {
    --body-bg: #1e1e1e;
    --sidebar-bg: #252525;
    --topbar-bg: #252525;
    --text-color: #c9d1d9;
    --heading-color: #ffffff;
    --link-color: #58a6ff;
    --link-hover-color: #79c0ff;
    --sidebar-active-color: #ffffff;
    --border-color: #30363d;
    --card-bg: #2d333b;
    --card-border-radius: 6px;
    --btn-border-color: #30363d;
    --btn-hover-bg: #30363d;
  }

  .light-mode {
    --body-bg: #f8f9fa;
    --sidebar-bg: #f4f4f4;
    --topbar-bg: #ffffff;
    --text-color: #333333;
    --heading-color: #212529;
    --link-color: #0064cf;
    --link-hover-color: #0056b3;
    --sidebar-active-color: #212529;
    --border-color: #e5e5e5;
    --card-bg: #ffffff;
    --btn-border-color: #e5e5e5;
    --btn-hover-bg: #e9ecef;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--body-bg);
    color: var(--text-color);
    display: flex;
    min-height: 100vh;
    transition: background-color 0.3s, color 0.3s;
  }

  /* Styling for the "About me" and "Contact" headings */
  .about-title {
    font-size: 2.2rem;
    margin-bottom: 30px;
    background: linear-gradient(90deg, var(--text-color) 70%, #d35400);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: inline-block;
  }

  /* Sidebar styling */
  .sidebar {
    position: fixed;
    width: 260px;
    height: 100vh;
    background-color: var(--sidebar-bg);
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    transition: all 0.3s ease;
    z-index: 1000;
  }

  .sidebar.collapsed {
    transform: translateX(-260px);
  }

  .site-title {
    text-align: center;
    padding: 1.5rem 1rem;
    border-bottom: 1px solid var(--border-color);
  }

  .site-title img {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin-bottom: 0.75rem;
  }

  .site-title h1 {
    font-size: 1.5rem;
    margin: 0;
    color: var(--heading-color);
  }

  .site-title p {
    font-size: 0.9rem;
    margin: 0.5rem 0 0;
    color: var(--text-color);
    opacity: 0.8;
  }

  .sidebar-menu {
    list-style: none;
    padding: 1.5rem 0;
    flex-grow: 1;
  }

  .sidebar-menu li {
    margin-bottom: 0.25rem;
  }

  .sidebar-menu a {
    display: flex;
    align-items: center;
    padding: 0.5rem 1.5rem;
    color: var(--text-color);
    text-decoration: none;
    transition: background-color 0.2s, color 0.2s;
  }

  .sidebar-menu a:hover,
  .sidebar-menu a.active {
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--sidebar-active-color);
  }

  .sidebar-menu a.active {
    border-left: 3px solid var(--link-color);
    padding-left: calc(1.5rem - 3px);
  }

  .sidebar-menu svg {
    margin-right: 0.75rem;
    width: 20px;
    height: 20px;
    opacity: 0.7;
  }

  /* Main content styling */
  .main-content {
    margin-left: 260px;
    width: calc(100% - 260px);
    transition: all 0.3s ease;
  }

  .main-content.expanded {
    margin-left: 0;
    width: 100%;
  }

  .topbar {
    background-color: var(--topbar-bg);
    border-bottom: 1px solid var(--border-color);
    padding: 0.75rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 10;
    transition: background-color 0.3s;
  }

  .menu-toggle {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    padding: 0.25rem;
  }

  .content-container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 2rem;
  }

  .post-card {
    background-color: var(--card-bg);
    border-radius: var(--card-border-radius);
    margin-bottom: 1.5rem;
    overflow: hidden;
    transition: transform 0.2s, box-shadow 0.2s;
    cursor: pointer;
  }

  .post-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
  }

  .post-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    background-color: var(--body-bg);
    padding: 1.5rem 1.5rem 0;
  }

  .dropdown-toggle {
    background: none;
    border: none;
    color: var(--text-color);
    cursor: pointer;
    display: flex;
    align-items: center;
  }

  .dropdown-toggle .arrow {
    font-size: 1.2rem;
    transition: transform 0.3s ease;
  }

  .dropdown-toggle[aria-expanded="true"] .arrow {
    transform: rotate(180deg);
  }

  .post-card-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease, padding 0.5s ease, background-color 0.5s ease;
    background-color: var(--body-bg);
    padding: 0;
  }

  .post-card-content.expanded {
    max-height: 1000px;
    padding: 1rem 1.5rem 1.5rem;
    background-color: var(--body-bg);
  }

  .post-card h2 {
    color: var(--heading-color);
    margin-bottom: 0.75rem;
  }

  .post-card h3 {
    color: var(--heading-color);
    margin-bottom: 0.5rem;
    font-weight: 600;
  }

  .post-meta {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    font-size: 0.85rem;
    color: var(--text-color);
    opacity: 0.7;
  }

  .post-meta > span {
    display: flex;
    align-items: center;
    margin-right: 1rem;
  }

  .post-meta svg {
    margin-right: 0.35rem;
    width: 16px;
    height: 16px;
  }

  .tag-list {
    display: flex;
    flex-wrap: wrap;
    margin-top: 1.5rem;
  }

  .tag {
    background-color: rgba(88, 166, 255, 0.1);
    color: var(--link-color);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    text-decoration: none;
    transition: background-color 0.2s;
  }

  .tag:hover {
    background-color: rgba(88, 166, 255, 0.2);
  }

  .read-more {
    display: inline-block;
    margin-top: 1rem;
    color: var(--link-color);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s;
  }

  .read-more:hover {
    color: var(--link-hover-color);
    text-decoration: underline;
  }

  .theme-toggle {
position: fixed;
top: 20px;
right: 20px;
background: #1e1e1e; /* Default dark background */
color: white;
border: none;
padding: 10px 12px;
border-radius: 5px;
cursor: pointer;
z-index: 1000;
}

/* Adjust button background for light theme */
body.light-mode .theme-toggle {
background: #f8f9fa; /* Change to your light theme background color */
color: #333; /* Adjust text color if needed */
}

.theme-toggle:hover {
background: #555; /* Default dark hover background */
}

/* Adjust hover background for light theme */
body.light-mode .theme-toggle:hover {
background: #ddd; /* Change to a suitable light hover background */
}

  /* Profile section */
  .profile-section {
    padding: 2rem 0;
    text-align: center;
    margin-bottom: 2rem;
  }

  .profile-img {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 5px solid var(--border-color);
  }

  .profile-title {
    margin: 1rem 0 0.5rem;
    font-size: 2rem;
    color: var(--heading-color);
  }

  .profile-tagline {
    font-size: 1.1rem;
    margin-bottom: 1rem;
    opacity: 0.9;
  }

  .profile-links {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
  }

  .profile-links a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--text-color);
    transition: background-color 0.2s, transform 0.2s;
  }

  .profile-links a:hover {
    background-color: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
  }

  .sidep {
    font-size: 12px;
  }

  @media (max-width: 768px) {
    .sidebar {
      transform: translateX(-100%);
    }
    .sidebar.active {
      transform: translateX(0);
    }
    .main-content {
      margin-left: 0;
      width: 100%;
    }
  }
  sidep {
font-size: 12px;
}
  /* Profile picture modal */
  .profile-modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .modal-content {
    position: relative;
    margin: auto;
    padding: 0;
    width: 80%;
    max-width: 700px;
    top: 50%;
    transform: translateY(-50%) scale(0.9);
    transition: transform 0.3s ease;
  }

  .modal-content img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  }

  .close-button {
    position: absolute;
    top: -40px;
    right: 0;
    color: white;
    font-size: 35px;
    font-weight: bold;
    cursor: pointer;
    z-index: 2001;
    transition: color 0.2s;
  }

  .close-button:hover {
    color: var(--link-color);
  }

  .profile-modal.show {
    display: block;
    opacity: 1;
  }

  .profile-modal.show .modal-content {
    transform: translateY(-50%) scale(1);
  }

  /* Make profile picture clickable */
  .profile-img {
    cursor: pointer;
    transition: transform 0.2s;
  }

  .profile-img:hover {
    transform: scale(1.05);
  }

  .profile-title {
    margin: 1rem 0 0.5rem;
    font-size: 2rem;
    color: var(--heading-color);
  }

  .profile-tagline {
    font-size: 1.1rem;
    margin-bottom: 1rem;
    opacity: 0.9;
  }

  .profile-links {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
  }

  .profile-links a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--text-color);
    transition: background-color 0.2s, transform 0.2s;
  }

  .profile-links a:hover {
    background-color: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
  }

  /* Nature Nugget styling for sidebar */
  .nature-nugget {
    padding: 1rem 1.5rem;
    border-top: 1px solid var(--border-color);
    font-size: 0.9rem;
  }

  .nature-nugget h3 {
    color: var(--link-color);
    margin-bottom: 0.5rem;
    font-size: 1rem;
  }

  .nugget-content {
    margin-bottom: 0.5rem;
    line-height: 1.4;
    font-size: 0.75rem;
  }

  /* Enhanced Typography */
  section p {
    font-size: 17px;
    line-height: 1.7;
    margin-bottom: 24px;
    letter-spacing: 0.015em;
  }

  section h2 {
    font-size: 2.2rem;
    margin-bottom: 30px;
    background: linear-gradient(90deg, var(--text-color) 70%, #d35400);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: inline-block;
  }

  /* Add a grid layout for the posts */
  .posts-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .post-placard {
    background-color: var(--card-bg);
    border-radius: var(--card-border-radius);
    overflow: hidden;
    transition: transform 0.2s, box-shadow 0.2s;
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
  }

  .post-placard:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
  }

  .post-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }

  .post-date {
    font-size: 0.85rem;
    color: var(--text-color);
    opacity: 0.7;
    padding: 1rem 1rem 0;
  }

  .post-placard h3 {
    color: var(--heading-color);
    margin: 0.5rem 1rem 0;
    font-size: 1.25rem;
  }

  .post-placard p {
    font-size: 0.9rem;
    color: var(--text-color);
    padding: 0 1rem 1rem;
    flex-grow: 1;
  }

  .read-more-btn {
    display: inline-block;
    margin: 1rem;
    padding: 0.5rem 1rem;
    background-color: rgba(211, 84, 0, 0.7);
    color: white;
    text-decoration: none;
    border-radius: 4px;
    transition: all 0.2s ease;
  }

  .read-more-btn:hover {
    background-color: rgba(211, 84, 0, 1);
    transform: scale(1.05);
  }

  /* Responsive design */
  @media (max-width: 768px) {
    .sidebar {
      transform: translateX(-100%);
    }
    .sidebar.active {
      transform: translateX(0);
    }
    .main-content {
      margin-left: 0;
      width: 100%;
    }
  }

  em {
      font-style: italic;
      color: #d35400; /* This is a common orange color, adjust if needed to match exactly */
  }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="site-title">
      <img src="profile-picture.jpeg" alt="Tuhin Kumar Raut" class="profile-img">
      <!-- Modal for profile picture -->
<div id="profileModal" class="profile-modal">
  <div class="modal-content">
    <span class="close-button">&times;</span>
    <img id="modalImage" src="" alt="Tuhin Kumar Raut">
  </div>

</div>
      <h1>Hi, I'm Tuhin</h1>
      <sidep>Bio Buff | Nature Nerd | Gadget Geek</sidep>
      <div class="profile-links">
        <a href="mailto:tuhinraut@gmail.com" aria-label="Email">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="22" height="22">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
        </a>
        <a href="https://www.linkedin.com/in/tuhin-kumar-raut-936018223/" target="_blank" aria-label="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="20" height="20">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
        <a href="https://github.com/tuhinraut" target="_blank" aria-label="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="20" height="20">
            <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
          </svg>
        </a>
      </div>
    </div>
    <ul class="sidebar-menu">
      <li>
        <a href="index.html">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
          Home
        </a>
      </li>
      <li>
        <a href="Projects.html">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
          </svg>
          Projects
        </a>
      </li>
      <li>
        <a href="How Close Are We.html" class="active">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
          </svg>
          How Close Are We?
        </a>
      </li>
      <li>
        <a href="5-min Papers.html">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
          </svg>
          5-min Papers
        </a>
      </li>
      <li>
        <a href="#">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
          </svg>
          Tags
        </a>
      </li>
      <li>
        <a href="about_me.html">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          About
        </a>
      </li>
    </ul>
  </aside>

  <!-- Main content -->
<main class="main-content">
  <button class="theme-toggle" id="theme-toggle">
    <img id="theme-icon" src="moon.png" style="width: 20px; height: 20px;">
  </button>

  <div class="content-container">
    <!-- How Close Are We Section -->
    <section id="how-close-are-we">
      <div class="post-card">
        <div class="post-card-header">
          <h2>How Close Are We?</h2>
          <button class="dropdown-toggle" aria-expanded="false">
            <span class="arrow">&#9660;</span> <!-- Down arrow -->
          </button>
        </div>
        <div class="post-card-content">
          <p></p>
          <p>Have you ever watched a sci-fi movie and wondered, <em>How close are we to making this a reality?</em> Or stumbled upon a mind-blowing YouTube video that left you thinking, <em>How on earth did the researcher even come up with this!</em></p>
          <p>You're not alone! I’m here to dive deep into the research for you and break it down—hopefully with some fun analogies—so <em>you can catch up on what you’ve missed in the ongoing entourage of scientific accomplishments</em> and get a glimpse of what the future holds.</p>
          <p>But that’s not all. Every research enthusiast has, at some point, daydreamed about revolutionizing their field. Science isn’t just about breakthroughs—it’s also about failures that pave the way for success. Alongside cutting-edge discoveries, <em>I’ll share some of my own "failed" ideas</em> to give you a peek into a tinkerer’s mind—how we hit roadblocks and push forward or fall flat on our faces.</p>
          <p>Together, we’ll explore the answers to the big questions that everyone wants answers to, like <em>How close are we to solving global warming?</em> (using biology, of course). But we won’t stop there—we’ll also uncover fascinating, lesser-known scientific pursuits, like <em>How close are we to building a fully organic computer?</em></p>
        </div>
      </div>
    </section>

      <!-- Posts Section -->
      <div class="posts-grid">
        <article class="post-placard">
          <img src="platypus.png" alt="Post 1 Image" class="post-image">
          <div class="post-date">March 19, 2025</div>
          <h3>... to making our own organism from scratch?</h3>
          <p><i>Imagine a world where we could decide the characteristics of an organism we desire and have it custom made to our specifications. It seems like a fever dream, but the reality of how close we actually are might shock you.</i></p>
          <a href="#" class="read-more-btn">Read More</a>
        </article>

        <article class="post-placard">
          <img src="organic_computer.png" alt="Post 2 Image" class="post-image">
          <div class="post-date">April 10, 2025</div>
          <h3>... to building a fully organic computer?</h3>
          <p><i>Organic computers could revolutionize the way we think about technology. But how close are we to making this a reality? Let's dive into the science behind it.</i></p>
          <a href="#" class="read-more-btn">Read More</a>
        </article>

        <article class="post-placard">
          <img src="global_warming.png" alt="Post 3 Image" class="post-image">
          <div class="post-date">May 5, 2025</div>
          <h3>... to solving global warming with biology?</h3>
          <p><i>Global warming is one of the biggest challenges of our time. But could biology hold the key to solving it? Let's explore the possibilities.</i></p>
          <a href="#" class="read-more-btn">Read More</a>
        </article>
      </div>
    </section>
  </div>
</main>

  <script>
function applyTheme(theme, isUserAction = false) {
  if (theme === "dark") {
    document.body.classList.remove("light-mode");
    localStorage.setItem("theme", "dark");
    document.getElementById("theme-icon").src = "sun.png";
  } else {
    document.body.classList.add("light-mode");
    localStorage.setItem("theme", "light");
    document.getElementById("theme-icon").src = "moon.png";
  }

  // Only add transition class if it's a user-initiated action
  if (isUserAction) {
    document.body.classList.add("theme-transition");
  }
}

// Get the saved theme or fallback to dark mode
const savedTheme = localStorage.getItem("theme") || "dark";
const themeToggle = document.getElementById("theme-toggle");

// Apply theme without transition on initial load
applyTheme(savedTheme);

// Ensure theme transitions only happen after page load
setTimeout(() => {
  document.body.classList.add("theme-transition");
}, 100);

// Add event listener for user theme change
themeToggle.addEventListener("click", () => {
  const currentTheme = document.body.classList.contains("light-mode") ? "dark" : "light";
  applyTheme(currentTheme, true);
});
// Profile picture modal functionality
document.addEventListener('DOMContentLoaded', function() {
  const profileImg = document.querySelector('.profile-img');
  const modal = document.getElementById('profileModal');
  const modalImg = document.getElementById('modalImage');
  const closeButton = document.querySelector('.close-button');

  // Open modal when profile picture is clicked
  profileImg.addEventListener('click', function() {
    modalImg.src = this.src;
    modal.style.display = 'block';
    setTimeout(() => {
      modal.classList.add('show');
    }, 10);
    document.body.style.overflow = 'hidden'; // Prevent scrolling
  });

  // Close modal when close button is clicked
  closeButton.addEventListener('click', function() {
    closeModal();
  });

  // Close modal when clicking outside the image
  modal.addEventListener('click', function(event) {
    if (event.target === modal) {
      closeModal();
    }
  });

  // Close modal with Escape key
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && modal.classList.contains('show')) {
      closeModal();
    }
  });

  function closeModal() {
    modal.classList.remove('show');
    setTimeout(() => {
      modal.style.display = 'none';
      document.body.style.overflow = ''; // Restore scrolling
    }, 300); // Match transition duration
  }
});

document.addEventListener('DOMContentLoaded', function() {
  // Create the HTML structure for the nature nugget
  const nuggetHTML = `
  <div class="nature-nugget">
    <h3>Neat Nature Nuggets</h3>
    <div class="nugget-content">
      <i><p id="daily-trivia"></p></i>
    </div>
  </div>
`;
  // Add the nugget HTML to the sidebar
  const sidebar = document.querySelector('.sidebar');
  if (sidebar) {
    const nuggetContainer = document.createElement('div');
    nuggetContainer.innerHTML = nuggetHTML;
    sidebar.appendChild(nuggetContainer);

    // Create an array of nature facts directly in the JavaScript
    const triviaItems = [
  "Trees communicate with each other through an underground network of fungi called the \"Wood Wide Web,\" sharing nutrients and warning about threats.",
  "The Turritopsis dohrnii jellyfish is biologically immortal, able to revert to its juvenile form after reaching maturity.",
  "There are underwater \"lakes\" on the ocean floor with their own shorelines, formed by highly saline water that doesn't mix with surrounding seawater.",
  "Crows can recognize and remember human faces for years, and will teach other crows which humans to avoid.",
  "Over 80% of the ocean remains unexplored, with thousands of species still undiscovered.",
  "Octopuses have three hearts - two pump blood to the gills while the third pumps it to the rest of the body.",
  "Mount Everest continues to grow about 4mm taller each year due to ongoing tectonic plate collision.",
  "Hummingbirds have heart rates that can reach 1,200 beats per minute during flight.",
  "Butterflies taste with their feet, using sensors to determine if plants are suitable for laying eggs.",
  "Dolphins use unique whistles that function like names to identify individuals within their pod.",
  "The General Sherman sequoia tree weighs an estimated 2.7 million pounds, making it the largest known living tree.",
  "Some mushroom species are bioluminescent, glowing in the dark to attract insects for spore dispersal.",
  "Elephants are the only land mammals that cannot jump due to their mass and limb structure.",
  "The Sahara Desert was lush and green with rivers and lakes about 6,000 years ago before desertification.",
  "Ocean phytoplankton produce over 50% of the world's oxygen.",
  "Certain frog species can survive being frozen during winter by stopping their hearts and later thawing when temperatures rise.",
  "\"Watermelon snow\" exists - it's pink or red snow caused by algae that even smells faintly of watermelon.",
  "Squirrels accidentally plant millions of trees by forgetting where they buried their nuts.",
  "Only 3% of Earth's water is freshwater, and over two-thirds of that is locked in glaciers and ice caps.",
  "A blue whale's tongue can weigh as much as an adult elephant.",
  "Plants can detect when they're being eaten and release defensive chemicals in response to vibrations.",
  "The largest living organism is a single fungus in Oregon's Malheur National Forest, covering about 2,400 acres.",
  "Giraffes have the same number of neck vertebrae as humans - just seven.",
  "Starfish can regenerate entire bodies from a single arm in some species.",
  "Vultures have stomach acid strong enough to dissolve anthrax and other pathogens.",
  "Giant pandas eat bamboo for up to 14 hours daily, consuming around 40 pounds to get enough nutrients.",
  "Trees have a form of circadian rhythm, with branches and leaves drooping slightly at night to conserve energy.",
  "The Wallace's flying frog can glide using its huge webbed feet to control descent and steer in mid-air.",
  "Flamingos are pink on the inside too - the carotenoid pigments from their diet color their tissues, skin, and blood.",
  "Jacanas can \"walk on water\" using their extremely long toes to distribute weight on floating vegetation.",
  "Armadillo shells are so strong they have been known to deflect bullets.",
  "Kangaroos hop efficiently because large, stretchy tendons in their hind legs act like springs, storing and releasing energy.",
  "The honey fungus is considered the largest living organism on Earth, with networks spanning miles.",
  "Some fungi can create their own wind to help spread their spores.",
  "Certain fungi species have thousands of different sexes.",
  "Some fungi can turn ants into \"zombies\" by controlling their behavior.",
  "Hummingbirds are the only birds that can fly backwards.",
  "Bamboo is the world's fastest growing plant, growing up to 4 cm per hour.",
  "Carrots were originally purple - they were bred to be orange.",
  "There are more trees on Earth (about 1 trillion) than stars in the Milky Way (200-400 billion).",
  "Sloths only defecate once a week, descending from their trees for this risky but necessary activity.",
  "Dolphins sleep by shutting down only half their brain at a time, allowing them to remain alert.",
  "Bees communicate through a complex \"waggle dance\" that indicates direction and distance to food sources.",
  "Spider silk is five times stronger than steel of the same diameter.",
  "Ants can carry up to 50 times their own body weight.",
  "Some species of newt use their ribs as \"barbs\" for defense, pushing them through their skin when threatened.",
  "Only 1 in 1,000 to 1 in 10,000 marine turtles survive to adulthood.",
  "Sharks can sense electric fields as small as half a billionth of a volt.",
  "About 3 million years ago, four distinct human species coexisted on Earth at the same time."
];

    // Display a random trivia fact
    function displayRandomTrivia() {
      // Generate a random index
      const randomIndex = Math.floor(Math.random() * triviaItems.length);

      // Update the trivia text
      const triviaElement = document.getElementById('daily-trivia');
      if (triviaElement) {
        triviaElement.textContent = triviaItems[randomIndex];
      }
    }

    // Display a random trivia fact when the page loads
    displayRandomTrivia();
  }
});
document.addEventListener('DOMContentLoaded', function () {
  const postCard = document.querySelector('.post-card');
  const toggleButton = document.querySelector('.dropdown-toggle');
  const postHeader = document.querySelector('.post-card-header');
  const postContent = document.querySelector('.post-card-content');

  // Function to toggle dropdown
  function toggleDropdown(event) {
    // Prevent clicks on child elements from triggering multiple toggles
    if (event.target === toggleButton || toggleButton.contains(event.target)) {
      // If clicked on the toggle button, let its own handler do the work
      return;
    }

    const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
    toggleButton.setAttribute('aria-expanded', !isExpanded);
    postContent.classList.toggle('expanded', !isExpanded);
  }

  // Add click event to the entire post card
  postCard.addEventListener('click', toggleDropdown);

  // Keep the original toggle button functionality
  toggleButton.addEventListener('click', function(event) {
    event.stopPropagation(); // Prevent triggering the postCard click handler
    const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
    toggleButton.setAttribute('aria-expanded', !isExpanded);
    postContent.classList.toggle('expanded', !isExpanded);
  });

  postContent.addEventListener('click', function(event) {
    // Only prevent propagation if the dropdown is already expanded
    if (toggleButton.getAttribute('aria-expanded') === 'true') {
      event.stopPropagation();
    }
  });
});
</script>
</body>
</html>
